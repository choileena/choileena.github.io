{
  "articles": [
    {
      "path": "about.html",
      "title": "About this site",
      "description": "Some additional details about the website",
      "author": [],
      "contents": "\nhttps://github.com/choileena\nhttps://github.com/choileena/EHR\nhttps://github.com/choileena/pkdata\nhttps://github.com/choileena/medExtractR\n\n\n\n",
      "last_modified": "2021-08-17T18:20:39-05:00"
    },
    {
      "path": "Build-PK-IV-comprehensive.html",
      "title": "Build-PK-IV - Comprehensive",
      "description": "This lecture describes a comprehensive PK data building procedure for medications that are typically intravenously administrated, which requires several data processing modules (e.g., *Pro-Demographic*, *Pro-Med-Str*, *Pro-Drug Level*, *Pro-Laboratory*).\n",
      "author": [],
      "contents": "\n\nContents\nIntroduction\n\nHere add links to vignettes\nIntroduction\n\n\n\n",
      "last_modified": "2021-08-17T18:20:39-05:00"
    },
    {
      "path": "Build-PK-IV-simple.html",
      "title": "Build-PK-IV - Simple",
      "description": "This lecture describes a simple pharmacokinetic data building procedure without using additional data processing modules for medications that are typically intravenously administrated.\n",
      "author": [],
      "contents": "\n\nContents\nIntroduction\nQuick Data Building with Processed Datasets\n\nIntroduction\nThis lecture describes a simple pharmacokinetic (PK) data building procedure in the EHRtoPKPD for medications that are typically intravenously (IV) administrated. It demonstrates how to quickly build PK data using Build-PK-IV without using the data processing modules when cleaned data for concentration, drug dose, demographic and laboratory datasets are already available in an appropriate data form. A comprehensive PK data building procedure with Build-PK-IV for IV medications that requires several data processing modules is described in Build-PK-IV - Comprehensive (see Choi et al.\\(^{1}\\) for details).\nTo begin we load the EHR package, the pkdata package, and the lubridate package.\n\n\n# load EHR package and dependencies\nlibrary(EHR)\nlibrary(pkdata)\nlibrary(lubridate)\n\n\n\nQuick Data Building with Processed Datasets\nThe data for example 1 includes a demographic file, a concentration file, an intravenous (IV) dosing file, and a laboratory file, which are all cleaned and formatted appropriately. We also define a directory for the raw data and a directory for interactive checking output files.\n\n\n# define directories\ntd <- tempdir()\ndir.create(file.path(td, 'check1'))\nrawDataDir <- system.file(\"examples\", \"str_ex1\", package=\"EHR\")\ncheckDir <- file.path(td, 'check1')\ndemo <- read.csv(file.path(rawDataDir,\"Demographics_DATA_simple.csv\"))\nhead(demo)\n\n\n  patient_id patient_visit_id gender weight height surgery_date\n1          2              2.1      1  62.99 179.72    6/20/2015\n2          3              3.1      0   7.71  72.99   12/15/2018\n3          4              4.1      1  12.00  92.02    1/12/2018\n4          5              5.1      0   5.89  56.13    5/13/2018\n5          6              6.2      1   7.90  63.31    9/24/2018\n6          6              6.1      1   6.16  60.89    5/26/2018\n  ageatsurgery stat_sts cpb_sts date_icu_dc time_fromor\n1         6245        2      80   6/22/2015          NA\n2          574        3      67  12/16/2018          NA\n3         1214        1      70   1/13/2018          NA\n4          102        1     151   5/14/2018        1427\n5          343        2      50   10/6/2018          NA\n6          222        4      99   8/13/2018        1958\n  length_of_icu_stay\n1                  2\n2                  1\n3                  1\n4                  1\n5                 12\n6                 79\n\nconc.data <- read.csv(file.path(rawDataDir,\"Concentration_DATA_simple.csv\"))\nhead(conc.data)\n\n\n  patient_id patient_visit_id event conc.level           date.time\n1         10             10.1     4       0.17 2019-02-02 05:30:00\n2         10             10.1     2       4.05 2019-02-24 14:00:00\n3         10             10.1     3       0.64 2019-02-25 03:30:00\n4         10             10.1     5       0.33 2019-02-27 02:45:00\n5         10             10.1     6       0.07 2019-02-28 03:30:00\n6         10             10.1     7       0.05 2019-03-01 02:35:00\n\nivdose.data <- read.csv(file.path(rawDataDir,\"IVDose_DATA_simple.csv\"))\nhead(ivdose.data)\n\n\n  patient_id  date.dose    infuse.time.real         infuse.time\n1          1 2009-10-18 2009-10-18 11:35:00 2009-10-18 12:00:00\n2          1 2009-10-18 2009-10-18 12:00:00 2009-10-18 12:00:00\n3          1 2009-10-18 2009-10-18 13:00:00 2009-10-18 13:00:00\n4          1 2009-10-18 2009-10-18 14:00:00 2009-10-18 14:00:00\n5          1 2009-10-18 2009-10-18 15:00:00 2009-10-18 15:00:00\n6          1 2009-10-18 2009-10-18 16:00:00 2009-10-18 16:00:00\n  infuse.dose bolus.time bolus.dose given.dose maxint weight\n1         8.8       <NA>         NA          0     60    4.4\n2         8.8       <NA>         NA          0     60    4.4\n3         8.8       <NA>         NA          0     60    4.4\n4         8.8       <NA>         NA          0     60    4.4\n5         8.8       <NA>         NA          0     60    4.4\n6         8.8       <NA>         NA          0     60    4.4\n\ncreat.data <- read.csv(file.path(rawDataDir,\"Creatinine_DATA_simple.csv\"))\nhead(creat.data)\n\n\n  patient_id           date.time creat\n1          2 2015-06-23 04:35:00  0.75\n2          2 2015-06-22 04:00:00  0.69\n3          2 2015-06-21 01:55:00  0.78\n4          2 2015-06-24 03:45:00  0.64\n5          2 2015-06-14 15:11:00  0.71\n6          2 2015-06-20 20:14:00  0.58\n\nThe EHR package modules use a standardized naming convention for patient identification (ID) variables. We rename the unique patient-level ID from patient_id to mod_id and the visit-level ID from patient_visit_id to mod_id_visit. If there is only a single visit/course per subject the unique patient-level ID and visit-level ID can be the same, however both mod_id and mod_id_visit should be defined.\n\n\nnames(conc.data)[1:2] <- names(demo)[1:2] <- c(\"mod_id\", \"mod_id_visit\")\nnames(creat.data)[1] <- names(ivdose.data)[1] <- \"mod_id\"\n\n\n\nUsing the four datasets, we can build a final PK dataset with the function run_Build_PK_IV(). Additional details for this function are provided below in the Build-PK-IV subsection of Example 2: Complete Data Processing and Building from Raw Extracted Data to PK Data.\n\n\nsimple_pk_dat <- run_Build_PK_IV(\n    conc=conc.data,\n    dose=ivdose.data,\n    lab.dat = list(creat.data),\n    lab.vars = c('creat'),\n    demo.list = demo,\n    demo.vars=c('weight', 'weight_demo', 'height', 'gender', 'ageatsurgery',\n                'stat_sts', 'cpb_sts', 'length_of_icu_stay'),\n    demo.abbr=c('wgt', 'wgt_demo', 'height', 'gender',\n                'age', 'stat', 'cpb', 'loi'),\n    pk.vars=c('mod_id_visit', 'time', 'conc', 'dose', 'rate', 'event',\n              'other', 'multiple.record', 'date', 'mod_id'),\n    drugname='fent',\n    check.path=checkDir)\n\n\n\n\n\nhead(simple_pk_dat,15)\n\n\n   mod_id_visit  time conc amt rate mdv evid   wgt wgt_demo height\n1           1.2  0.00   NA  50    0   1    1 25.04    25.04 114.39\n2           1.2  0.75   NA 100    0   1    1 25.04    25.04 114.39\n3           1.2  1.65   NA 100    0   1    1 25.04    25.04 114.39\n4           1.2  1.77   NA 250    0   1    1 25.04    25.04 114.39\n5           1.2  2.05   NA 250    0   1    1 25.04    25.04 114.39\n6           1.2  3.72   NA 250    0   1    1 25.04    25.04 114.39\n7           1.2  5.23   NA 100    0   1    1 25.04    25.04 114.39\n8           1.2  6.25 2.83  NA   NA   0    0 25.04    25.04 114.39\n9           1.2 20.68 0.41  NA   NA   0    0 25.04    25.04 114.39\n10          1.2 70.90 0.04  NA   NA   0    0 25.04    25.04 114.39\n11          1.2 95.25 0.01  NA   NA   0    0 25.04    25.04 114.39\n12         10.1  0.00   NA  25    0   1    1  6.06     6.06  63.20\n13         10.1  0.52   NA 100    0   1    1  6.06     6.06  63.20\n14         10.1  1.42   NA  25    0   1    1  6.06     6.06  63.20\n15         10.1  2.77   NA  50    0   1    1  6.06     6.06  63.20\n   gender  age stat cpb loi creat\n1       1 2295    2  79   1  0.60\n2       1 2295    2  79   1  0.60\n3       1 2295    2  79   1  0.60\n4       1 2295    2  79   1  0.60\n5       1 2295    2  79   1  0.60\n6       1 2295    2  79   1  0.60\n7       1 2295    2  79   1  0.60\n8       1 2295    2  79   1  0.60\n9       1 2295    2  79   1  0.50\n10      1 2295    2  79   1  0.54\n11      1 2295    2  79   1  0.57\n12      0  209    1 195   5  0.64\n13      0  209    1 195   5  0.64\n14      0  209    1 195   5  0.64\n15      0  209    1 195   5  0.64\n\nReferences\nChoi L, Beck C, McNeer E, Weeks HL, Williams ML, James NT, Niu X, Abou-Khalil BW, Birdwell KA, Roden DM, Stein CM. Development of a System for Post-marketing Population Pharmacokinetic and Pharmacodynamic Studies using Real-World Data from Electronic Health Records. Clinical Pharmacology & Therapeutics. 2020 Apr; 107(4): 934-943.\n\n\n\n",
      "last_modified": "2021-08-17T18:20:40-05:00"
    },
    {
      "path": "Build-PK-Oral.html",
      "title": "Build-PK-Oral",
      "description": "This lecture describes the PK data building module in the system for medications that are typically orally administrated. It demonstrates how to quickly build PK data using *Build-PK-Oral* when drug dose data that can be provided by users or generated from unstructured clinical notes using extracted dosing information with the *Extract-Med* module and processed with the *Pro-Med-NLP* module in the system.\n",
      "author": [],
      "contents": "\n\nContents\nIntroduction\n\nHere add links to vignettes\nIntroduction\n\n\n\n",
      "last_modified": "2021-08-17T18:20:40-05:00"
    },
    {
      "path": "Extract-Med.html",
      "title": "Extract-Med",
      "description": "This lecture describes how to obtain drug dosing information from unstructured clinical notes using *Extract-Med* module in the system.\n",
      "author": [],
      "contents": "\n\nContents\nIntroduction\n\nHere add links to vignettes\nIntroduction\n\n\n\n",
      "last_modified": "2021-08-17T18:20:41-05:00"
    },
    {
      "path": "index.html",
      "title": "Choi Lab",
      "author": [],
      "contents": "\n\n\n\nLeena Choi, PhD\nVice Chair of Diversity and Inclusion, Department of Biostatistics\nProfessor of Biostatistics\n\n\n\nhttps://www.vumc.org/biostatistics/person/leena-choi-phd\n\nThe major research focus of our lab is to construct a system for drug-related studies such as pharmacokinetics (PK), pharmacodynamics (PD), and pharmacogenomics (PGx) studies using electronic health records (EHRs), which is called “EHRtoPKPD”. This system would allow to perform the studies more efficiently by standardizing data extraction, data processing, and data building procedures. This system would provide the foundation for PK/PD-model guided clinical decision support systems embedded in EHRs to provide an optimal pharmacotherapy, the overarching goal of precision medicine.\n\nThe EHRtoPKPD, a System for PK/PD Studies using EHRs.\nModified from Clin Pharm Ther 2020.\nEHRtoPKPD is a modular system, divided into the three major procedures: data extraction (“Extract-”), data processing (“Pro-”), and data building (“Build-”). Modules were created or under development (gray color box) depending on the data element, task to perform, and type of PK/PD models. For drugs with simple prescription pattern, dose data can be relatively easily extracted from e-prescription databases and processed using Pro-Med-Str module. However, we found that dosing data obtained from e-prescription databases often are not accurate enough for PK/PD studies. Thus, we developed more flexible and targeted NLP system that performed better than existing state-of-art NLP systems for drug dose extraction. Our NLP system was incorporated into our system (Extract-Med module), which can directly extract drug dose information from clinical notes, which is also available as an R package, medExtractR. As building drug dose data from extracted dose information can be very challenging, we developed a dose data building algorithm which was also implemented in our system (Pro-Med-NLP). Other data elements such as drug levels (Pro-Drug Level), demographics (Pro-Demographic), and laboratory data (Pro-Laboratory) can be processed using our system, and then combined with processed dose data to build PK/PD data using PK/PD data building modules (i.e., Build-PK-IV, Build-PK-Oral). The functions to run each module is implemented as R packages, medExtractR and EHR. More details can be found in Choi et al.\\(^{1}\\), and additional modules will be added in the future as it evolves.\nReferences\nChoi L, Beck C, McNeer E, Weeks HL, Williams ML, James NT, Niu X, Abou-Khalil BW, Birdwell KA, Roden DM, Stein CM. Development of a System for Post-marketing Population Pharmacokinetic and Pharmacodynamic Studies using Real-World Data from Electronic Health Records. Clinical Pharmacology & Therapeutics. 2020 Apr; 107(4): 934-943.\n\nLab Team\nCole Beck\nElizabeth McNeer\nMichael Williams\nNathan James\nAlumni\nHannah Weeks\n\n\n\n",
      "last_modified": "2021-08-17T18:20:41-05:00"
    },
    {
      "path": "Pro-Med-NLP.html",
      "title": "Pro-Med-NLP",
      "description": "This lecture describes how to build longitudinal medication dose data from the raw output of an NLP system using the *Pro-Med-NLP* module.\n",
      "author": [],
      "contents": "\n\nContents\nIntroduction\n\nHere add links to vignettes\nIntroduction\n\n\n\n",
      "last_modified": "2021-08-17T18:20:41-05:00"
    },
    {
      "path": "Pro-Med-Str-Part2.html",
      "title": "Pro-Med-Str - Part II",
      "description": "This lecture describes how to processes structured medication data, especially focusing on intravenously given dose data.\n",
      "author": [],
      "contents": "\n\nContents\nIntroduction\n\nHere add links to vignettes\nIntroduction\n\n\n\n",
      "last_modified": "2021-08-17T18:20:42-05:00"
    },
    {
      "path": "workshops.html",
      "title": "*EHRtoPKPD* Workshops",
      "description": "Lecture series demonstrating how to use *EHRtoPKPD* with some examples in EHR package\n",
      "author": [],
      "contents": "\n\nContents\nExtract-Med\nPro-Med-NLP\nBuild-PK-Oral\nBuild-PK-IV - Simple\nBuild-PK-IV - Comprehensive\nPro-Med-Str - Part II\nPro-Med-Str - Part I\n\nHere add links to vignettes\nExtract-Med\nThis lecture describes how to obtain drug dosing information from unstructured clinical notes using Extract-Med module in the system.\nPro-Med-NLP\nThis lecture describes how to build longitudinal medication dose data from the raw output of an NLP system using the Pro-Med-NLP module.\nBuild-PK-Oral\nThis lecture describes the PK data building procedure in the EHRtoPKPD for medications that are typically orally administrated. It demonstrates how to quickly build PK data using Build-PK-Oral when drug dose data that can be provided by users or generated from unstructured clinical notes using extracted dosing information with the Extract-Med module and processed with the Pro-Med-NLP module in the system.\nBuild-PK-IV - Simple\nThis lecture describes a simple PK data building procedure in the EHRtoPKPD for medications that are typically intravenously administrated. It demonstrates how to quickly build PK data using Build-PK-IV without using the data processing modules when cleaned data for concentration, drug dose, demographic and laboratory datasets are already available in an appropriate data form.\nBuild-PK-IV - Comprehensive\nThis lecture describes a comprehensive PK data building procedure in the EHRtoPKPD for medications that are typically intravenously administrated. It demonstrates how to utilize several data processing modules (e.g., Pro-Demographic, Pro-Med-Str, Pro-Drug Level, Pro-Laboratory) to standardize and combine more complex datasets when cleaned data are not available, and then finally build PK data using Build-PK-IV.\nPro-Med-Str - Part II\nThis lecture describes how to processes structured medication data, especially focusing on e-prescription data.\nPro-Med-Str - Part I\nThis lecture describes how to processes structured medication data, especially focusing on intravenously given dose data.\n\n\n\n",
      "last_modified": "2021-08-17T18:20:42-05:00"
    }
  ],
  "collections": []
}
